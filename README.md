# iot_project

Инструкция по эксплуатации устройства:

Запуск сервера и загрузка скетча в ESP:

1) Приобрести сервер со статическим IP адресом

2) Изменить IP адрес сервера в файле скетча

3) Запустить сервер (находясь в папке сервера в консоли cmd командой uvicorn main:app --port 8005 --reload --host 0.0.0.0) (возможно нужно добавить перед командой, что-то вроде python3 -m)

4) Загрузить скетч в ESP (без схемы), нажать reset и отключить от питания

5) Подключить ESP к схеме устройства

Использование устройства:

1) Подключиться к точке доступа ESP и перейти в браузере на веб-форму по ip 192.168.99.34

2) Ввести логин и пароль сети wifi, в которой запущен сервер и отправить данные (кнопка send)

3) ESP подключается к wifi и переходит в режим ожидания

4) Нажать кнопку один раз, чтобы данные с датчика воздуха начали отправляться на сервер и записываться в базу данных

Быстрое нажатие кнопки переключает жёлто-зелёное и зелёное состояние устройства. Удержание кнопки 3 секунды сбрасывает состояние до красного.

Состояния устройства:

красный - раздаёт точку доступа

синий - подключение к сети wifi

жёлто-зелёный (мигает) - связь wifi установлена, ожидание

зелёный - отправка данных на сервер
